---

# Отчет по лабораторной работе 1 со звездочкой
**Студенты:** Борисюк Евгений, Езиева Милана, Муравьев Матвей 

---

## Часть 1: Теоретический анализ уязвимостей конфигурации

В данной части рассматриваются теоретические аспекты ошибок конфигурации (Misconfigurations), которые были выявлены в ходе практической работы. Ошибки конфигурации веб-серверов входят в топ-лист **OWASP Top 10** и являются одной из самых частых причин взломов в облачных инфраструктурах.

### 1. Information Disclosure (Раскрытие информации о системе)
**Суть уязвимости:** Веб-сервер по умолчанию настроен на выдачу подробных сведений о себе в HTTP-заголовках ответа (параметр `Server Tokens`).
*   **Что дает злоумышленнику:** Позволяет точно определить версию ПО (например, Apache 2.4.18) и операционную систему (Ubuntu). Зная точную версию, атакующий может быстро найти специфические эксплойты под конкретные CVE (Known Vulnerabilities).
*   **Средства поиска:** `curl -I`, `nmap`, плагины браузера (например, Wappalyzer).

### 2. Directory Enumeration / Brute-force (Перебор директорий)
**Суть уязвимости:** Отсутствие ограничений на перебор путей и отсутствие защиты от автоматизированных запросов.
*   **Что дает злоумышленнику:** Позволяет составить полную карту сайта, включая скрытые страницы, административные панели и технические папки, на которые нет прямых ссылок в интерфейсе. Это расширяет «поверхность атаки».
*   **Средства поиска:** `ffuf` (Fuzz Faster U Fool), `dirb`, `gobuster`.

### 3. Sensitive Data Exposure (Раскрытие конфиденциальных данных)
**Суть уязвимости:** Хранение секретов (ключей, конфигурационных файлов, бэкапов) внутри публичной директории веб-сервера (`document root`) без ограничения доступа на уровне конфигурации Nginx/Apache.
*   **Что дает злоумышленнику:** Прямой доступ к критически важной информации. В данном случае — обнаружение папки `.ssh` и приватного ключа `id_rsa`. Это позволяет обойти механизмы аутентификации и получить удаленный доступ к консоли сервера.
*   **Средства поиска:** Автоматизированный фаззинг (`ffuf`) с использованием специализированных словарей (например, SecLists).

### 4. Broken Access Control (Нарушение контроля доступа)
**Суть уязвимости:** Ошибка в настройке прав доступа, когда технические директории (такие как `.ssh`, `.git`, `.env`) доступны для чтения из внешней сети.
*   **Что дает злоумышленнику:** Возможность несанкционированного скачивания файлов, которые предназначены только для внутреннего использования системой или администратором.
*   **Средства поиска:** Ручной аудит путей и автоматизированное сканирование.

---

## Часть 2: Инфраструктура исследования и описание платформы

Для проведения аудита безопасности была выбрана платформа **TryHackMe (THM)**. В данном разделе рассматривается архитектура платформы, технические особенности выбранной среды и обоснование её использования для выполнения лабораторной работы.

### 1. Обоснование выбора платформы
Выбор TryHackMe в качестве полигона для исследования обусловлен следующими факторами:

*   **Этичность и легальность:** Согласно заданию, использование «суперпопулярных сайтов» (Google, Яндекс) запрещено, а аудит случайных ресурсов может быть расценен как правонарушение. TryHackMe предоставляет полностью легальную среду, где владельцы ресурсов заранее дали разрешение на поиск и эксплуатацию уязвимостей.
*   **Изолированная среда (Sandbox):** Все действия проводятся в частной виртуальной сети. Это гарантирует, что учебный «взлом» не нанесет вреда реальной инфраструктуре.
*   **Реализм конфигураций:** В отличие от теоретических задач, здесь используются реальные виртуальные машины (в данном случае на базе Ubuntu), в которых допущены типичные ошибки администрирования. Это позволяет студенту столкнуться с «живыми» мисконфигурациями.

### 2. Техническое устройство платформы
TryHackMe построена на базе облачной инфраструктуры (преимущественно AWS), где по запросу пользователя разворачиваются временные экземпляры (инстансы) уязвимых машин.

*   **Игровая механика (CTF):** Платформа работает в формате **Capture The Flag** (Захват флага). Целью является не просто обнаружение ошибки, а получение доступа к скрытым текстовым файлам (флагам) — `user.txt` и `root.txt`. Это служит объективным доказательством успешного взлома.
*   **Сетевая связность:** Для взаимодействия с целью используется два способа:
    1.  **OpenVPN:** Создание зашифрованного туннеля между локальной машиной студента и сетью THM.
    2.  **AttackBox:** Собственная виртуальная машина платформы (на базе Kali Linux или Ubuntu), доступ к которой осуществляется прямо через веб-интерфейс. В данной лабораторной работе использовался **AttackBox**, так как он содержит предустановленный стек профессионального ПО для аудита.

### 3. Описание целевой лаборатории: Wgel CTF
Объектом исследования стала бесплатная комната **Wgel CTF**. Данная среда моделирует корпоративный веб-ресурс со следующими характеристиками:
*   **Операционная система:** Ubuntu 16.04.6 LTS.
*   **Веб-сервер:** Apache/2.4.18 (несмотря на то, что в задании упоминался Nginx, методы аудита и инструменты фаззинга полностью идентичны, что позволяет достичь целей лабораторной работы).
*   **Вектор атаки:** Ошибки конфигурации доступа к файловой системе и избыточные привилегии системных утилит.

### 4. Используемый инструментарий (DevOps Toolchain)
В процессе работы применялся классический стек инструментов для проведения аудита информационной безопасности:
*   **curl:** Использовался для низкоуровневого взаимодействия с веб-сервером и анализа HTTP-заголовков (Information Disclosure).
*   **ffuf (Fuzz Faster U Fool):** Инструмент на языке Go, выбранный за высокую скорость перебора. С его помощью осуществлялся поиск скрытых директорий, которые администратор планировал скрыть от обычных пользователей.
*   **nc (Netcat):** Применялся для приема данных (Exfiltration) при повышении привилегий.
*   **SSH (Secure Shell):** Использовался для удаленного управления сервером после получения скомпрометированного ключа.

---

